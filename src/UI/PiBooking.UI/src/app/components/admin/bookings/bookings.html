<template>

    <h1>Bookings</h1>
    <p>Below are the available available bookings. </p>

    <div show.bind="errors" id="errors" role="alert" class="alert alert-danger">{{errors}}</div>
    <div if.bind="message" class="alert alert-success" role="alert">{{message}}</div>


    <div class="form-group">
        <label class="control-label" for="CustomerFilter">Filter By Customer</label>
        <select change.delegate="filterChanged()" value.bind="filtercustomerID" class="form-control"
            id="CustomerFilter">
            <option model.bind="null">All...</option>
            <option repeat.for="customer of allcustomers" model.bind="customer.customerAccountId">
                ${customer.firstName} ${customer.lastName}
            </option>
        </select>
    </div>

    <div>
        <ej-grid e-enable-responsive-row=true e-is-responsive=true e-data-source.bind="orders" e-allow-paging=true
            e-allow-sorting=true>
            <ej-column e-width="7em" e-field="orderID" e-header-text="Order ID" e-text-align="right"></ej-column>
            <ej-column e-width="9em" e-field="job.jobName" e-header-text="Job Name" e-text-align="right"></ej-column>
            <ej-column e-field="customer.firstName" e-header-text="Customer First Name"
                e-text-align="right"></ej-column>
            <ej-column e-field="customer.lastName" e-header-text="Customer Last Name" e-text-align="right"></ej-column>
            <ej-column e-field="total" e-format="{0:C2}" e-header-text="Total" e-text-align="right"></ej-column>

            <ej-column e-width="7em" e-header-text="Edit" e-text-align="right">
                <ej-template>
                    <a click.delegate="edit(orderID)" class="btn btn-default "><i class="fas fa-edit"></i>Edit</a>
                </ej-template>
            </ej-column>
            <ej-column e-width="7em" e-header-text="Delete" e-text-align="right">
                <ej-template>
                    <a click.delegate="delete(orderID)" class="btn btn-default "><i
                            class="far fa-trash-alt"></i>Delete</a>
                </ej-template>
            </ej-column>

        </ej-grid>
    </div>

</template>